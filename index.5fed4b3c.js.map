{"mappings":"AAEA,MAAMA,EAASC,SAASC,cAAc,iBAChCC,EAAUF,SAASC,cAAc,aACjCE,EAAeH,SAASC,cAAc,UAW5C,SAASG,EAAYC,GACnB,MAAMC,EAAUD,EAAME,KAAIC,GAT5B,UAAsBC,GAAEA,EAAEC,KAAEA,IAC1B,MAAMC,EAASX,SAASY,cAAc,UAItC,OAHAD,EAAOE,aAAa,QAASJ,GAC7BE,EAAOG,UAAYJ,EAEZC,C,CAI2BI,CAAaP,KAC/CT,EAAOiB,UAAUV,E,EA4BnBW,iBACE,IACE,MAAMC,QC5CDC,MAAM,uCAAyBC,MAAKC,IACzC,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,cAGlB,OAAOF,EAASG,MAAM,IDwCtBC,QAAQC,IAAIR,GAEZd,EAAYc,GAWZnB,EAAO4B,iBAAiB,UAVxBV,eAAAW,GCvCG,IAAyBC,EDyC1BJ,QAAQK,IAAI/B,EAAOgC,OAEnB,MAAMC,EAjBY,IAAEC,IAAEA,OAC1B,MAAMC,EAAMlC,SAASY,cAAc,OAGnC,OAFAsB,EAAIrB,aAAa,MAAOoB,GAEjBC,CAAG,EAaYC,OC3CQN,ED0CU9B,EAAOgC,MCzCxCZ,MAAM,wDAA0CU,KAAWT,MAChEC,IACE,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAM,cAGlB,OADAE,QAAQC,IAAIG,GACLR,EAASG,MAAM,MDqChBY,EAAUlB,EAAKmB,QAAOC,GAAMA,EAAG7B,KAAOV,EAAOgC,QACnD7B,EAAQqC,kBACRrC,EAAQc,OAAOgB,EAtCI,CAAAxB,IACvB,MAAME,KAAEA,EAAI8B,YAAEA,EAAWC,YAAEA,GAAgBjC,EACrCkC,EAAW1C,SAASY,cAAc,OAClC+B,EAAQ3C,SAASY,cAAc,MACrC+B,EAAM7B,UAAYJ,EAClB,MAAMkC,EAAQ5C,SAASY,cAAc,KACrCgC,EAAM9B,UAAY0B,EAClB,MAAMK,EAAkB7C,SAASY,cAAc,KAC/CiC,EAAgB/B,UAAY2B,EAC5B,MAAMK,EAAkB9C,SAASY,cAAc,QAM/C,OALAkC,EAAgBhC,UAAY,eAE5B+B,EAAgBE,QAAQD,GACxBJ,EAAS1B,OAAO2B,EAAOC,EAAOC,GAEvBH,CAAQ,EAuBeM,IAAoBZ,G,IAIhD,MAAOa,GACP9C,EAAa+C,MAAMC,QAAU,O,EAIjCC","sources":["src/index.js","src/services/API.js"],"sourcesContent":["import { fetchApi, fetchCatByBreed } from './services/API';\n\nconst select = document.querySelector('.breed-select');\nconst catInfo = document.querySelector('.cat-info');\nconst errorMessage = document.querySelector('.error');\n// console.log(error);\n\nfunction createOption({ id, name }) {\n  const option = document.createElement('option');\n  option.setAttribute('value', id);\n  option.innerText = name;\n\n  return option;\n}\n\nfunction optionsList(dates) {\n  const arrTags = dates.map(date => createOption(date));\n  select.append(...arrTags);\n}\n\nconst createInfoMarkup = date => {\n  const { name, description, temperament } = date;\n  const cardInfo = document.createElement('div');\n  const title = document.createElement('h2');\n  title.innerText = name;\n  const about = document.createElement('p');\n  about.innerText = description;\n  const temperamentInfo = document.createElement('p');\n  temperamentInfo.innerText = temperament;\n  const temperamentBold = document.createElement('span');\n  temperamentBold.innerText = 'Temperament:';\n\n  temperamentInfo.prepend(temperamentBold);\n  cardInfo.append(title, about, temperamentInfo);\n\n  return cardInfo;\n};\n\nconst createImgMarkup = ([{ url }]) => {\n  const img = document.createElement('img');\n  img.setAttribute('src', url);\n\n  return img;\n};\n\nasync function createBreedList() {\n  try {\n    const data = await fetchApi();\n    console.log(data);\n\n    optionsList(data);\n    /* Все что касчается события чейндж */\n    async function renderInfo(event) {\n      console.dir(select.value);\n      const image = await fetchCatByBreed(select.value);\n      const renderImg = createImgMarkup(image);\n      const infoObj = data.filter(el => el.id === select.value);\n      catInfo.replaceChildren();\n      catInfo.append(renderImg, createInfoMarkup(...infoObj));\n    }\n\n    select.addEventListener('change', renderInfo);\n  } catch (err) {\n    errorMessage.style.display = 'block';\n  }\n}\n\ncreateBreedList();\n","const BASE_URL = 'https://api.thecatapi.com';\n\nexport function fetchApi() {\n  return fetch(`${BASE_URL}/v1/breeds`).then(responce => {\n    if (!responce.ok) {\n      throw new Error('тут ошибка');\n    }\n\n    return responce.json();\n  });\n}\n\nexport function fetchCatByBreed(breedId) {\n  return fetch(`${BASE_URL}/v1/images/search?breed_ids=${breedId}`).then(\n    responce => {\n      if (!responce.ok) {\n        throw new Error('This ERROR');\n      }\n      console.log(breedId);\n      return responce.json();\n    }\n  );\n}\n\n// fetchCatByBreed('amis');\n"],"names":["$1f0dc3b9307be026$var$select","document","querySelector","$1f0dc3b9307be026$var$catInfo","$1f0dc3b9307be026$var$errorMessage","$1f0dc3b9307be026$var$optionsList","dates","arrTags","map","date","id","name","option","createElement","setAttribute","innerText","$1f0dc3b9307be026$var$createOption","append","async","data","fetch","then","responce","ok","Error","json","console","log","addEventListener","event","breedId","dir","value","renderImg","url","img","$1f0dc3b9307be026$var$createImgMarkup","infoObj","filter","el","replaceChildren","description","temperament","cardInfo","title","about","temperamentInfo","temperamentBold","prepend","$1f0dc3b9307be026$var$createInfoMarkup","err","style","display","$1f0dc3b9307be026$var$createBreedList"],"version":3,"file":"index.5fed4b3c.js.map"}